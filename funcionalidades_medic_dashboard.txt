═══════════════════════════════════════════════════════════════════════════════════
INFORME FUNCIONAL EXHAUSTIVO: PANEL MÉDICO (DASHBOARD MEDIC)
Syncwave - Sistema de Gestión Clínica MVP
═══════════════════════════════════════════════════════════════════════════════════

Este documento detalla exhaustivamente TODAS las funcionalidades del Panel Médico,
incluyendo todos los módulos principales, subpáginas, formularios y acciones.
El objetivo es proporcionar una base completa para la evaluación e implementación
de planes de suscripción (Básico, Pro, Enterprise).

═══════════════════════════════════════════════════════════════════════════════════
ÍNDICE
═══════════════════════════════════════════════════════════════════════════════════
1. DASHBOARD PRINCIPAL (HOME)
2. GESTIÓN DE PACIENTES
3. CONSULTAS MÉDICAS
4. RECETAS MÉDICAS
5. AGENDA Y CITAS
6. ÓRDENES Y RESULTADOS DE LABORATORIO
7. COMUNICACIÓN (MENSAJES Y CHAT INTERNO)
8. TAREAS Y RECORDATORIOS
9. PAGOS Y FACTURACIÓN
10. REPORTES Y ANALÍTICA
11. CONFIGURACIÓN Y PERSONALIZACIÓN
12. PLANTILLAS DE DOCUMENTOS

═══════════════════════════════════════════════════════════════════════════════════
1. DASHBOARD PRINCIPAL (/dashboard/medic)
═══════════════════════════════════════════════════════════════════════════════════

A. VISTA GENERAL
   - KPIs del Día:
     • Citas programadas hoy
     • Consultas realizadas
     • Pacientes atendidos
     • Ingresos del día (USD y Bs con conversión)
   
   - Alertas y Notificaciones:
     • Alertas de pagos pendientes
     • Resultados críticos de laboratorio
     • Tareas vencidas
   
   - Agenda del Día (DayAgenda):
     • Visualización de bloques de tiempo
     • Lista de citas programadas con hora
     • Indicadores de estado (Confirmada, Pendiente, Cancelada)
   
   - Accesos Rápidos:
     • Botón "Nueva Cita"
     • Botón "Nueva Consulta"
     • Enlaces a módulos frecuentes

═══════════════════════════════════════════════════════════════════════════════════
2. GESTIÓN DE PACIENTES
═══════════════════════════════════════════════════════════════════════════════════

2.1 LISTADO DE PACIENTES (/dashboard/medic/pacientes)
────────────────────────────────────────────────────────────────────────────
A. Funcionalidades de Listado:
   - Vista en cuadrícula (Grid) con tarjetas
   - Paginación y lazy loading para eficiencia
   - Búsqueda en tiempo real por:
     • Nombre
     • Apellido
     • Cédula/Identificación
   
B. Información en Tarjeta de Paciente:
   - Datos Visibles:
     • Iniciales/Avatar
     • Nombre completo
     • Cédula
     • Género
     • Teléfono
   
   - Indicadores (Badges):
     • Número de consultas
     • Número de recetas
     • Número de resultados de laboratorio
     • Fecha de última consulta
   
   - Acciones Rápidas:
     • "Recetas/Informes": Acceso a historial de prescripciones
     • "Historial": Ver historial médico completo

2.2 DETALLE DEL PACIENTE (/dashboard/medic/pacientes/[id])
────────────────────────────────────────────────────────────────────────────
A. Información del Paciente:
   - Datos Personales:
     • ID del paciente
     • Nombre completo
     • Fecha de nacimiento
     • Género
     • Teléfono
     • Email (si disponible)
   
   - Estadísticas:
     • Total de consultas
     • Última visita (fecha y hora)
     • Diagnósticos frecuentes
   
B. Historial Clínico Completo:
   - Lista Cronológica de Consultas:
     • Fecha y hora de cada consulta
     • Médico que atendió
     • Motivo de consulta
     • Diagnóstico
     • Notas clínicas (vista previa)
     • Enlace a detalle completo
   
   - Control de Acceso:
     • Si el médico tiene "acceso completo": Ve todas las consultas del paciente
     • Si no: Solo ve sus propias consultas
   
C. Acciones Disponibles:
   - "Nueva Consulta" para este paciente
   - "Editar Paciente" (si tiene permisos)
   - "Ver Notas" (pestaña adicional)

2.3 HISTORIAL DETALLADO (/dashboard/medic/pacientes/[id]/historial)
────────────────────────────────────────────────────────────────────────────
A. Vista Unificada de Historial:
   - Consultas:
     • Motivo y diagnóstico
     • Signos vitales registrados
     • Notas del médico
     • Fecha de atención
   
   - Recetas:
     • Medicamentos prescritos
     • Dosis y frecuencia
     • Estado (Activa/Vencida)
     • Fecha de emisión
   
   - Resultados de Laboratorio:
     • Tipo de examen
     • Resultados
     • Rango de referencia
     • Marcador de criticidad (Normal/Crítico)
     • Gráficas de tendencia (para valores numéricos)
   
   - Facturación:
     • Montos cobrados
     • Estado de pago (Pendiente/Pagado)
     • Método de pago

2.4 PACIENTES FRECUENTES / CARGA MASIVA (/dashboard/medic/pacientes-frecuentes)
────────────────────────────────────────────────────────────────────────────
A. Importación desde Archivos:
   - Formatos Soportados:
     • Excel (.xlsx)
     • Word (.docx)
   
B. Extracción Inteligente de Datos:
   - Campos Extraíbles:
     • Nombre
     • Apellido
     • Cédula/Identificación
     • Teléfono
     • Email
     • Fecha de nacimiento
   
C. Proceso de Importación:
   1. Carga del archivo
   2. Extracción automática de datos
   3. Tabla de previsualización/edición
   4. Validación de datos duplicados
   5. Guardado masivo en base de datos
   
D. Guía de Formato:
   - Descarga de plantilla de ejemplo
   - Instrucciones de formato
   - Campos requeridos vs opcionales

═══════════════════════════════════════════════════════════════════════════════════
3. CONSULTAS MÉDICAS
═══════════════════════════════════════════════════════════════════════════════════

3.1 LISTADO DE CONSULTAS (/dashboard/medic/consultas)
────────────────────────────────────────────────────────────────────────────
A. Vista de Historial:
   - Ordenamiento cronológico (más reciente primero)
   - Filtros Avanzados:
     • Por fecha (rango)
     • Por paciente (búsqueda)
     • Por médico
     • Por estado
   
B. Información Visible en Lista:
   - Paciente (nombre completo)
   - Médico que atendió
   - Motivo de consulta (resumen)
   - Diagnóstico (resumen)
   - Fecha y hora
   - Indicador de paciente (Registrado/No Registrado)
   
C. Opciones de Exportación:
   - Exportar a Excel (.xlsx)
   - Exportar a CSV
   - Filtros aplicables antes de exportar

3.2 NUEVA CONSULTA (/dashboard/medic/consultas/new)
────────────────────────────────────────────────────────────────────────────
A. Selección de Paciente:
   1. Tipo de Paciente:
      - Paciente Registrado:
        • Buscador predictivo en tiempo real
        • Búsqueda por cédula, nombre o apellido
        • Autocompletado
      
      - Paciente No Registrado (Express):
        • Formulario completo sin salir de la consulta
        • Campos disponibles:
          * Nombre (requerido)
          * Apellido (requerido)
          * Cédula/Identificación (opcional)
          * Teléfono (requerido)
          * Email (opcional)
          * Fecha de nacimiento (opcional)
          * Sexo (M/F/Otro) (opcional)
          * Dirección (opcional)
          * Alergias (opcional)
          * Condiciones crónicas (opcional)
          * Medicamentos actuales (opcional)
          * Historial familiar (opcional)
   
B. Datos Clínicos de la Consulta:
   - Campos Principales:
     • Motivo de consulta / Chief Complaint (requerido)
     • Diagnóstico (opcional)
     • Notas de evolución (opcional)
   
   - Signos Vitales Generales:
     • Peso (kg)
     • Talla (cm) → Cálculo automático de IMC
     • Temperatura (°C)
     • Presión Arterial:
       * Sistólica (mmHg)
       * Diastólica (mmHg)
     • Frecuencia Cardíaca (lpm/BPM)
     • Frecuencia Respiratoria (rpm)
     • SpO2 (Saturación de Oxígeno) (%)
     • Glucosa (mg/dL)
   
   - Signos Vitales por Especialidad (Opcionales):
     • Cardiología, Neurología, Pediatría, etc.
     • Campos específicos según especialidad seleccionada
   
C. Servicios y Facturación:
   - Selección de Servicios:
     • Lista de servicios del consultorio (desde perfil)
     • Selección múltiple permitida
     • Precio por servicio
     • Moneda configurada
   
   - Generación Automática de Facturación:
     • Subtotal (suma de servicios)
     • Total (sin IVA en área de salud)
     • Moneda
     • Estado inicial: "Pendiente"
   
D. Asociación con Cita (si aplica):
   - Si viene desde una cita (`?appointmentId=...`):
     • Pre-carga del paciente
     • Pre-carga del motivo de consulta
     • Vinculación automática

3.3 DETALLE DE CONSULTA (/dashboard/medic/consultas/[id])
────────────────────────────────────────────────────────────────────────────
A. Información Completa:
   - Header:
     • Nombre del paciente
     • Fecha y hora de la consulta
     • Médico que atendió
     • ID de la consulta
     • Indicador: Cita vinculada / Consulta libre
   
   - Datos Clínicos:
     • Motivo de consulta (completo)
     • Diagnóstico (completo)
     • Notas clínicas (texto completo con formato)
   
   - Signos Vitales:
     • Visualización por secciones (General, Especialidad)
     • Formato de tarjetas con etiquetas legibles
     • Valores booleanos, numéricos y texto
   
   - Información del Paciente (Sidebar):
     • Selector de paciente (cambiar paciente asociado)
     • Datos rápidos del paciente
     • Estadísticas de consultas
   
B. Alertas Especiales:
   - Si la cita fue reservada por otro miembro del grupo familiar:
     • Alerta visual destacada
     • Información de quién reservó
   
   - Si hay pago pendiente:
     • Botón "Aprobar Asistencia" (si hay factura pendiente)
   
C. Acciones Disponibles:
   - "Editar Consulta" → /dashboard/medic/consultas/[id]/edit
   - "Registrar Pago" → /dashboard/medic/consultas/[id]/pago
   - "Ver Historial del Paciente"
   - "Volver a Consultas"

3.4 EDITAR CONSULTA (/dashboard/medic/consultas/[id]/edit)
────────────────────────────────────────────────────────────────────────────
- Formulario similar a "Nueva Consulta"
- Pre-cargado con datos existentes
- Permite modificar:
  • Motivo
  • Diagnóstico
  • Notas
  • Signos vitales
  • Paciente asociado (si es necesario)

3.5 REGISTRAR PAGO DE CONSULTA (/dashboard/medic/consultas/[id]/pago)
────────────────────────────────────────────────────────────────────────────
A. Información de la Consulta:
   - Paciente
   - Médico
   - Motivo
   - Diagnóstico
   
B. Formulario de Facturación:
   - Si ya existe facturación:
     • Carga datos existentes
     • Permite editar
     • Muestra información de factura existente
   
   - Datos de Facturación:
     • Subtotal (editable)
     • Impuestos (generalmente 0 en salud)
     • Total (calculado)
     • Moneda (seleccionable: USD, EUR, Bs, etc.)
     • Tipo de cambio (si aplica)
     • Serie de factura (opcional)
     • Número de factura (opcional)
     • Estado de factura (Emitida/Anulada)
     • Estado de pago (Pendiente/Pagado/Verificando)
     • Método de pago (Efectivo, Tarjeta, Transferencia, Pago Móvil, etc.)
     • Fecha de pago (si ya está pagado)
     • Notas adicionales
   
C. Acciones:
   - Guardar facturación (crear o actualizar)
   - Regresar a detalle de consulta

3.6 CREAR RECETA DESDE CONSULTA (/dashboard/medic/consultas/[id]/prescription)
────────────────────────────────────────────────────────────────────────────
- Formulario de receta pre-asociado a la consulta
- Igual funcionalidad que módulo de Recetas

═══════════════════════════════════════════════════════════════════════════════════
4. RECETAS MÉDICAS
═══════════════════════════════════════════════════════════════════════════════════

4.1 LISTADO DE RECETAS (/dashboard/medic/recetas)
────────────────────────────────────────────────────────────────────────────
A. Vista de Historial:
   - Lista de recetas emitidas (cronológico)
   - Información visible:
     • Paciente (nombre)
     • Indicador: Registrado / No Registrado
     • Fecha de emisión
     • Estado (Activa / Vencida)
     • Lista de medicamentos (vista previa)
     • Observaciones (si las hay)

4.2 NUEVA RECETA (Integrada en /dashboard/medic/recetas)
────────────────────────────────────────────────────────────────────────────
A. Selección de Paciente:
   - Dropdown con lista de pacientes (registrados y no registrados)
   - Indicador visual de tipo de paciente
   
B. Medicamentos (Dinámico - Agregar N medicamentos):
   - Por cada medicamento:
     • Nombre del medicamento (requerido)
     • Dosis (ej. "500mg", "10ml") (opcional)
     • Frecuencia (Generación Automática):
       * Input: "Cada cuántas horas" (1-24)
       * Input: "Por cuántos días"
       * Genera automáticamente texto: "Cada 8 horas por 7 días" o "1 vez al día por 5 días"
     • Cantidad a despachar (número) (requerido)
   
   - Acciones:
     • Botón "Añadir" medicamento adicional
     • Botón "Eliminar" medicamento individual
   
C. Observaciones Generales:
   - Campo de texto libre para notas adicionales de la receta
   - Ejemplos: "Tomar con alimentos", "Controlar presión cada 8h"
   
D. Generación de PDF:
   - Utiliza plantilla Word personalizada (si está configurada)
   - Sistema de placeholders para datos dinámicos

═══════════════════════════════════════════════════════════════════════════════════
5. AGENDA Y CITAS
═══════════════════════════════════════════════════════════════════════════════════

5.1 VISTA DE AGENDA (/dashboard/medic/citas)
────────────────────────────────────────────────────────────────────────────
A. Componentes Principales:
   1. Calendario con Vista Diaria (DayAgenda):
      - Bloques de tiempo (cada 30 min típicamente)
      - Visualización de citas programadas en bloques
      - Código de colores según estado:
        • Azul: Programada
        • Verde: Completada
        • Rojo: Cancelada
        • Amarillo: En Proceso
        • Naranja: Reagendada
   
   2. Lista de Citas del Día Seleccionado:
      - Información por cita:
        • Hora programada
        • Duración (minutos)
        • Paciente
        • Motivo
        • Estado
        • Ubicación
        • Indicador temporal:
          * "Hoy" (azul)
          * "Pasada" (gris)
          * "Mañana" (cian)
          * "En X días" (índigo)
          * "Futura" (morado)
   
B. Modales y Acciones:
   - Modal "Nueva Cita" (acceso rápido)
   - Editar cita existente
   - Cambiar estado de cita:
     • Marcar como "Atendida"
     • Marcar como "Cancelada"
     • Reagendar

5.2 NUEVA CITA (Modal en /dashboard/medic/citas)
────────────────────────────────────────────────────────────────────────────
A. Datos de la Cita:
   - Fecha y Hora (datetime-local) (requerido)
   - Duración en minutos (número) (requerido, default: 30)
   - Ubicación (texto):
     • Auto-rellenada desde configuración del consultorio
     • Solo lectura (editable desde Configuración)
   
B. Selección de Paciente:
   - Tipo de Paciente (selector):
     1. Paciente Registrado:
        - Buscador con autocompletado
        - Búsqueda por cédula o nombre
     
     2. Paciente No Registrado:
        - Formulario completo:
          • Nombre (requerido)
          • Apellido (requerido)
          • Cédula/Identificación (opcional)
          • Teléfono (requerido)
          • Email (opcional)
          • Fecha de nacimiento (opcional)
          • Sexo (opcional)
          • Dirección (opcional)
   
C. Información Adicional de la Cita:
   - Motivo de la cita (text area) (opcional)
   - Origen del Cliente (dropdown):
     • ¿Dónde lo captaste?
     • Opciones: Redes sociales, Referido, Web, Walk-in, etc.
     • Útil para análisis de marketing
   
D. Servicios y Facturación:
   - Selección de Servicio (requerido):
     • Lista de servicios activos del consultorio
     • Muestra: Nombre, Descripción, Precio, Moneda
     • Selección obligatoria (mínimo 1)
   
   - Facturación Automática:
     • Subtotal (suma de servicios seleccionados)
     • Impuestos: 0 (no aplica en salud)
     • Total = Subtotal
     • Moneda del servicio
     • Estado inicial: "Pendiente"
   
E. Acciones al Crear:
   - Guardar cita
   - Generar facturación asociada
   - Recarga de página para reflejar cambios

═══════════════════════════════════════════════════════════════════════════════════
6. ÓRDENES Y RESULTADOS DE LABORATORIO
═══════════════════════════════════════════════════════════════════════════════════

6.1 LISTADO DE ÓRDENES (/dashboard/medic/ordenes)
────────────────────────────────────────────────────────────────────────────
A. Vista de Órdenes:
   - Lista de solicitudes de exámenes
   - Información visible:
     • Paciente (nombre)
     • Tipo de examen / Estudio solicitado
     • Estado:
       * Pendiente (azul)
       * En Proceso (amarillo)
       * Completada (verde)
     • Indicador de criticidad (si es marcado como crítico)
     • Fecha de solicitud
   
B. Filtros:
   - Todas las órdenes
   - Solo pendientes
   - Solo en proceso
   - Solo completadas
   
C. Búsqueda:
   - Por nombre de paciente
   - Por cédula
   - Por tipo de examen

D. Acciones:
   - Botón "Nueva Orden" → /dashboard/medic/ordenes/new
   - Ver detalle de orden → /dashboard/medic/ordenes/[id]

6.2 NUEVA ORDEN (/dashboard/medic/ordenes/new)
────────────────────────────────────────────────────────────────────────────
A. Regla de Negocio Importante:
   - Solo se pueden crear órdenes para pacientes con:
     • Cita activa (del día), O
     • Consulta activa (en curso)
   
B. Formulario:
   - Selección de Paciente:
     • Lista de pacientes con citas/consultas activas
     • Información del contexto (cita o consulta en curso)
   
   - Datos de la Orden:
     • Tipo de examen / Estudio (text input) (requerido)
     • Notas clínicas / Indicaciones (text area) (opcional)
     • Marcar como crítico (checkbox) (opcional):
       * Si se marca, se envía alerta prioritaria

C. Asociación Automática:
   - Se vincula automáticamente a la cita/consulta activa
   - Estado inicial: "Pendiente"

6.3 DETALLE DE ORDEN (/dashboard/medic/ordenes/[id])
────────────────────────────────────────────────────────────────────────────
- Información completa de la orden
- Paciente asociado
- Tipo de examen
- Notas clínicas
- Estado actual
- Archivos adjuntos (si los hay)
- Resultados (si ya están disponibles)

6.4 RESULTADOS DE LABORATORIO (/dashboard/medic/resultados)
────────────────────────────────────────────────────────────────────────────
A. Bandeja de Resultados:
   - Lista de resultados recibidos
   - Información visible:
     • Paciente
     • Tipo de examen
     • Fecha de reporte
     • Resultado (vista previa)
     • Indicador de criticidad:
       * Icono de alerta rojo si es crítico
       * Verde si es normal
   
B. Filtros:
   - Todos los resultados
   - Solo resultados críticos (alerta)
   
C. Búsqueda:
   - Por paciente
   - Por tipo de examen
   
D. Visualización de Resultados:
   - Valores numéricos con:
     • Rango de referencia
     • Indicador visual (Normal/Crítico)
     • Gráficas de tendencia (si hay historial)
   
   - Archivos adjuntos:
     • PDFs del laboratorio
     • Imágenes médicas
     • Otros documentos

6.5 DETALLE DE RESULTADO (/dashboard/medic/resultados/[id])
────────────────────────────────────────────────────────────────────────────
- Resultado completo
- Valores con rangos de referencia
- Comentarios del laboratorio
- Archivos adjuntos
- Acceso al historial del paciente

═══════════════════════════════════════════════════════════════════════════════════
7. COMUNICACIÓN
═══════════════════════════════════════════════════════════════════════════════════

7.1 MENSAJES CON PACIENTES (/dashboard/medic/mensajes)
────────────────────────────────────────────────────────────────────────────
A. Bandeja de Entrada:
   - Lista de conversaciones agrupadas
   - Información por conversación:
     • Nombre del paciente o doctor
     • Último mensaje (previsualización)
     • Fecha/Hora del último mensaje
     • Contador de mensajes no leídos
     • Indicador visual:
       * Icono de usuario (paciente)
       * Icono de estetoscopio (médico/colega)
   
B. Actualización en Tiempo Real (Supabase Realtime):
   - Nuevos mensajes aparecen automáticamente
   - Actualización de contadores sin recargar
   
C. Búsqueda:
   - Por nombre de paciente
   - Por contenido del mensaje

D. Acciones:
   - Abrir conversación → /dashboard/medic/mensajes/[id]

7.2 DETALLE DE CONVERSACIÓN (/dashboard/medic/mensajes/[id])
────────────────────────────────────────────────────────────────────────────
- Chat completo con el paciente
- Historial de mensajes
- Campo de entrada para nuevo mensaje
- Envío en tiempo real
- Notificaciones de mensaje enviado/recibido

7.3 MENSAJERÍA INTERNA (CHAT DEL EQUIPO) (/dashboard/medic/mensajeria)
────────────────────────────────────────────────────────────────────────────
A. Chat Interno del Consultorio:
   - Para comunicación entre:
     • Médico principal
     • Asistentes de citas
     • Recepción
     • Otros roles del consultorio
   
B. Funcionalidades:
   - Lista de usuarios/roles disponibles
   - Iniciar nueva conversación
   - Chat en tiempo real (Supabase Realtime)
   - Notificaciones "Toast" para nuevos mensajes
   - Estados de lectura (leído/no leído)
   
C. Interfaz:
   - Estilo moderno tipo Slack o Microsoft Teams
   - Sidebar con lista de conversaciones
   - Panel principal con mensajes
   - Campo de entrada con botón de envío

═══════════════════════════════════════════════════════════════════════════════════
8. TAREAS Y RECORDATORIOS
═══════════════════════════════════════════════════════════════════════════════════

8.1 LISTADO DE TAREAS (/dashboard/medic/tareas)
────────────────────────────────────────────────────────────────────────────
A. Vista de Tareas:
   - Lista de tareas personales del médico
   - Información visible:
     • Título de la tarea
     • Descripción (vista previa)
     • Fecha de vencimiento
     • Estado (Pendiente / Completada)
     • Paciente asociado (si aplica)
     • Alerta visual si está vencida (rojo)
   
B. Filtros:
   - Todas las tareas
   - Solo pendientes
   - Solo completadas
   
C. Búsqueda:
   - Por título
   - Por descripción
   - Por paciente asociado
   
D. Acciones Rápidas:
   - Checkbox para marcar como completada
   - Botón "Nueva Tarea" → /dashboard/medic/tareas/new
   - Editar tarea → /dashboard/medic/tareas/[id]

8.2 NUEVA TAREA (/dashboard/medic/tareas/new)
────────────────────────────────────────────────────────────────────────────
A. Formulario:
   - Título de la tarea (requerido)
   - Descripción detallada (opcional)
   - Fecha de vencimiento (date) (opcional)
   - Asociar a paciente (dropdown) (opcional):
     • Búsqueda de paciente
     • Vinculación opcional
   
B. Estado inicial:
   - Completada: No (false)

8.3 EDITAR TAREA (/dashboard/medic/tareas/[id])
────────────────────────────────────────────────────────────────────────────
- Formulario similar a "Nueva Tarea"
- Pre-cargado con datos existentes
- Permite cambiar estado a completada

═══════════════════════════════════════════════════════════════════════════════════
9. PAGOS Y FACTURACIÓN
═══════════════════════════════════════════════════════════════════════════════════

9.1 VERIFICAR PAGOS (/dashboard/medic/pagos/verificar)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Revisar pagos que pacientes han "reportado como pagados"
   - Aprobar o rechazar pagos pendientes de verificación

B. Vista de Pagos Pendientes:
   - Lista de facturas con estado "pendiente_verificacion"
   - Información visible por pago:
     • Número de factura
     • Fecha de emisión
     • Paciente (nombre)
     • Cita asociada (si aplica)
       * Fecha y hora de la cita
       * Motivo de la cita
     • Total (monto y moneda)
     • Método de pago (Pago Móvil, Transferencia, etc.)
     • Número de referencia (extraído de notas)
     • Captura de pantalla del pago (si fue subida):
       * Vista previa de la imagen
       * Botón "Ver" para ampliar
   
C. Acciones por Pago:
   1. Aprobar Pago:
      - Cambia estado a "pagado"
      - Marca fecha de pago actual
      - Puede actualizar estado de cita a "Completada"
   
   2. Rechazar Pago:
      - Cambia estado de vuelta a "pendiente"
      - Notifica al paciente (si hay integración)
   
D. Modal de Ampliación:
   - Ver captura en grande
   - Botón de descarga de imagen

9.2 CONCEPTOS DE FACTURACIÓN (Integrados en otros módulos)
────────────────────────────────────────────────────────────────────────────
A. Estructura de Facturación:
   - Asociada a:
     • Cita (appointment_id)
     • Consulta (consultation_id)
     • Paciente (patient_id o unregistered_patient_id)
   
B. Campos de Factura:
   - Subtotal (número decimal)
   - Impuestos (generalmente 0 en salud)
   - Total (calculado: subtotal + impuestos)
   - Moneda (USD, EUR, Bs, VES, COP, MXN, ARS)
   - Tipo de cambio (para monedas no base)
   - Serie de factura (opcional)
   - Número de factura (opcional, puede ser auto-generado)
   
   - Estados:
     • Estado de Factura: Emitida / Anulada
     • Estado de Pago: 
       * pendiente
       * pendiente_verificacion (cuando paciente reporta pago)
       * pagado
       * rechazado
   
   - Método de Pago:
     • Efectivo
     • Tarjeta de débito
     • Tarjeta de crédito
     • Transferencia bancaria
     • Pago Móvil (Venezuela)
     • Cashea (si el consultorio lo tiene)
     • Otro
   
   - Fechas:
     • Fecha de emisión (automática)
     • Fecha de pago (cuando se marca como pagado)
   
   - Notas:
     • Campo de texto libre
     • Puede incluir:
       * [REFERENCIA] número de referencia bancaria
       * [CAPTURA] URL de captura de pantalla del pago

═══════════════════════════════════════════════════════════════════════════════════
10. REPORTES Y ANALÍTICA
═══════════════════════════════════════════════════════════════════════════════════

10.1 REPORTES (/dashboard/medic/reportes)
────────────────────────────────────────────────────────────────────────────
A. Filtro por Fechas:
   - Selector de rango de fechas
   - Presets comunes:
     • Hoy
     • Esta semana
     • Este mes
     • Último trimestre
     • Año actual
     • Personalizado

B. KPIs Operativos:
   - Total de Citas Programadas (en el período)
   - Total de Consultas Realizadas
   - Total de Resultados Críticos
   - Pacientes Atendidos (únicos)

C. Reporte Financiero:
   1. Ingresos Totales:
      - Monto en USD (moneda principal)
      - Monto en Bs (con conversión automática)
      - Indicador de crecimiento (vs período anterior)
   
   2. Desglose Diario:
      - Tabla con ingresos por día
      - Gráfico de línea/barras
   
   3. Métodos de Pago:
      - Tabla de frecuencia por método
      - Gráfico de torta/dona
      - Montos por método

D. Estadísticas Clínicas:
   - Diagnósticos Más Comunes (Top 5):
     • Nombre del diagnóstico
     • Frecuencia
     • Porcentaje

E. Gráficos de Tendencia:
   - Citas por Mes (gráfico de barras)
   - Consultas por Mes (gráfico de línea)
   - Comparativa mes a mes

F. Exportación:
   - Opción de exportar datos a Excel/PDF (si está implementado)

═══════════════════════════════════════════════════════════════════════════════════
11. CONFIGURACIÓN Y PERSONALIZACIÓN
═══════════════════════════════════════════════════════════════════════════════════

11.1 CONFIGURACIÓN PRINCIPAL (/dashboard/medic/configuracion)
────────────────────────────────────────────────────────────────────────────
A. Estructura en Pestañas:
   1. Perfil Profesional
   2. Horarios / Disponibilidad
   3. Notificaciones / Preferencias
   4. Seguridad
   
B. Alertas de Estado:
   - Validación de Perfil Completo:
     • Si falta información, muestra alerta
   
   - Estado de Afiliación:
     • Consultorio Privado
     • Afiliado a Clínica (nombre de la clínica)

11.2 GESTIÓN DE ROLES (/dashboard/medic/configuracion/roles)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Crear y gestionar roles para el consultorio privado
   - Asignar permisos granulares por módulo
   - Administrar usuarios por rol

B. Roles Predefinidos:
   1. "Asistente De Citas":
      - Permisos:
        • Citas: view, create, edit, schedule
      - Función: Gestión básica de agenda
   
   2. "Recepción":
      - Permisos:
        • Citas: view, edit (reagendada, cancelada, en proceso)
        • Consultas: view
        • Gestión de servicios/montos cobrados
        • Registro de motivos
      - Función: Admisión y gestión de pagos

C. Creación de Rol Personalizado:
   - Nombre del Rol (requerido)
   - Descripción del Rol (opcional)
   
   - Permisos Granulares por Módulo:
     Módulos disponibles:
     • Pacientes
     • Consultas
     • Citas
     • Recetas
     • Órdenes Médicas
     • Resultados
     • Mensajes
     • Tareas
     • Reportes
     
     Acciones asignables por módulo:
     • view (ver/leer)
     • create (crear)
     • edit (editar)
     • delete (eliminar)
     • confirm (confirmar asistencia)
     • schedule (agendar)
     • cancel (cancelar)

D. Gestión de Usuarios por Rol:
   1. Agregar Nuevo Usuario:
      - Nombre (requerido)
      - Apellido (requerido)
      - Cédula / Identificación (requerido)
      - Email (requerido)
      - Teléfono (requerido)
      - Contraseña (requerido)
      - Asignación a Rol
   
   2. Usuarios Existentes:
      - Lista de usuarios del rol
      - Estado: Activo / Inactivo
      - Acciones:
        • Activar usuario (puede iniciar sesión)
        • Desactivar usuario (no puede iniciar sesión)
        • Editar información
        • Eliminar usuario
   
   3. Inicio de Sesión de Usuarios de Rol:
      - Usan su email o cédula + contraseña
      - Acceso limitado según permisos del rol

11.3 CONFIGURACIÓN DEL CONSULTORIO (/dashboard/medic/configuracion/consultorio)
────────────────────────────────────────────────────────────────────────────
A. Acceso:
   - Solo disponible si `organizationType` = 'CONSULTORIO' (consultorio privado)

B. Información Básica:
   - Nombre Legal del Consultorio (requerido)
   - Nombre Comercial (opcional)
   - Teléfono Fijo (opcional)
   - Teléfono Móvil (requerido)
   - Email de Contacto (requerido)
   - Sitio Web (opcional)
   
C. Redes Sociales:
   - Facebook (URL)
   - Instagram (handle o URL)

D. Información Legal/Profesional:
   - Licencia Sanitaria (número) (opcional)
   - Número de Seguro de Responsabilidad (opcional)

E. Ubicación:
   1. Dirección Operacional:
      - Campo de texto libre
   
   2. Mapa Interactivo (LeafletMapPicker):
      - Selector de ubicación en mapa
      - Captura de Latitud/Longitud
      - Generación automática de dirección basada en coordenadas
      - Útil para que pacientes localicen el consultorio

F. Imágenes:
   1. Galería de Fotos del Consultorio (PhotoUploader):
      - Subir múltiples fotos
      - Mínimo 3 fotos requerido para guardar
      - Mostrar instalaciones, salas de espera, consultorios
   
   2. Foto de Perfil del Consultorio:
      - Imagen principal que representa al consultorio
      - Selector de imagen de las ya subidas
      - Se muestra en búsquedas y perfil público

G. Opciones de Pago:
   - Checkbox: "El consultorio cuenta con Cashea"
   - Otros métodos (puede expandirse)

11.4 CONFIGURACIÓN DE MONEDA (/dashboard/medic/configuracion/moneda)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Seleccionar moneda principal para cotización
   - Visualización coherente en todo el sistema

B. Selección de Moneda Preferida:
   - Opciones disponibles:
     • USD (Dólar Estadounidense)
     • EUR (Euro)
     • Bs / VES (Bolívar Venezolano)
     • COP (Peso Colombiano)
     • MXN (Peso Mexicano)
     • ARS (Peso Argentino)

C. Tasa de Cambio:
   - Muestra tasa de cambio actual:
     • De la moneda preferida a Bolívares (Bs)
     • Fuente: API de tasas (ejemplo: BCV para Venezuela)
     • Fecha y hora de última actualización
   
   - Botón "Actualizar Tasa":
     • Refresca la tasa desde la API

D. Ejemplo de Conversión:
   - Muestra cómo se vería un monto de ejemplo en:
     • Moneda preferida
     • Su equivalente en Bolívares

E. Impacto Global:
   - La preferencia afecta:
     • Precios de servicios
     • Visualización en citas
     • Visualización en consultas
     • Facturación
     • Reportes financieros
   
   - Visualización Dual:
     • Siempre muestra monto en moneda preferida
     • Y su conversión a Bolívares (si aplica)
   
F. Persistencia:
   - Se guarda en la base de datos del usuario
   - También en `localStorage` para acceso rápido

═══════════════════════════════════════════════════════════════════════════════════
12. PLANTILLAS DE DOCUMENTOS
═══════════════════════════════════════════════════════════════════════════════════

12.1 PLANTILLA DE INFORME (/dashboard/medic/plantilla-informe)
────────────────────────────────────────────────────────────────────────────
A. Funcionalidad:
   - Cargar plantilla personalizada en Word (.docx)
   - Para generación de informes médicos personalizados

B. Carga de Plantilla:
   - Uploader de archivo:
     • Solo acepta .docx
     • Validación de tamaño (por ejemplo, máx 5MB)
   
   - Gestión de Plantilla:
     • Descargar plantilla actual
     • Eliminar plantilla
     • Reemplazar plantilla

C. Sistema de Placeholders:
   - Variables dinámicas que se reemplazan automáticamente:
     • {{paciente}} → Nombre completo del paciente
     • {{fecha}} → Fecha del informe
     • {{contenido}} → Contenido principal del informe
     • {{doctor}} → Nombre del médico
     • {{consultorio}} → Nombre del consultorio
     • {{diagnostico}} → Diagnóstico del paciente
     • {{motivo}} → Motivo de consulta
     • Y otros según necesidad

D. Editor de Texto Estructurado:
   - Para redactar el contenido del informe
   - El texto se inserta en el placeholder {{contenido}}

E. Descarga de Plantilla de Ejemplo:
   - Botón para descargar una plantilla base pre-diseñada

12.2 PLANTILLA DE RECETA (/dashboard/medic/plantilla-receta)
────────────────────────────────────────────────────────────────────────────
A. Funcionalidad:
   - Cargar plantilla personalizada en Word (.docx)
   - Para generación de recetas médicas personalizadas

B. Carga de Plantilla:
   - Similar a Plantilla de Informe
   - Solo acepta .docx
   - Gestionar (descargar, eliminar, reemplazar)

C. Sistema de Placeholders para Recetas:
   - Variables específicas para recetas:
     • {{paciente}} → Nombre del paciente
     • {{fecha}} → Fecha de emisión
     • {{doctor}} → Nombre y firma del médico
     • {{cedula_doctor}} → Cédula profesional/MPPS
     • {{recipe}} → Lista de medicamentos con dosis y frecuencia
     • {{indicaciones}} → Indicaciones generales
     • {{instrucciones}} → Instrucciones adicionales
     • {{consultorio}} → Datos del consultorio

D. Soporte para Documentos Multipágina:
   - Característica Especial:
     • Puede generar recetas de 2 páginas:
       * Página 1: Encabezado + Lista de Medicamentos ({{recipe}})
       * Página 2: Indicaciones Generales Adicionales ({{indicaciones}})
   
   - Ejemplo de Uso:
     • Página 1: Receta formal con sellos
     • Página 2: Dieta, cuidados, recomendaciones

E. Descarga de Plantilla de Ejemplo:
   - Plantilla base pre-diseñada para recetas

═══════════════════════════════════════════════════════════════════════════════════
FUNCIONALIDADES TRANSVERSALES
═══════════════════════════════════════════════════════════════════════════════════

A. DISTINCIÓN PACIENTE REGISTRADO VS NO REGISTRADO
────────────────────────────────────────────────────────────────────────────
- En TODOS los módulos (Consultas, Citas, Recetas, Órdenes):
  • Soporte para ambos tipos de pacientes
  • Indicador visual claro:
    * Verde + "Registrado" → Paciente en sistema
    * Naranja + "No Registrado" → Paciente express
  
- Flujo sin interrupciones:
  • Si es no registrado, formulario en línea para captura rápida
  • No requiere salir del módulo actual

B. MULTIMONEDA
────────────────────────────────────────────────────────────────────────────
- Sistema completo de conversión:
  • Moneda base configurable por médico
  • Tasas de cambio actualizables
  • Visualización dual en reportes y facturas
  • Sin impuestos (IVA) en facturación de salud

C. REALTIME (SUPABASE)
────────────────────────────────────────────────────────────────────────────
- Actualización automática en tiempo real para:
  • Mensajes (conversaciones con pacientes)
  • Chat interno (mensajería del equipo)
  • Notificaciones de nuevas órdenes/resultados (potencial)

D. CONTROL DE ACCESO Y PERMISOS
────────────────────────────────────────────────────────────────────────────
- Acceso al historial del paciente basado en:
  • Acceso completo: Ve todo el historial del paciente
  • Acceso limitado: Solo ve sus propias consultas
  
- Gestión de roles para consultorio privado:
  • Roles con permisos granulares
  • Usuarios activables/desactivables
  • Login independiente para staff

E. VALIDACIONES Y REGLAS DE NEGOCIO
────────────────────────────────────────────────────────────────────────────
- Órdenes Médicas:
  • Solo para pacientes con cita/consulta activa
  
- Facturación:
  • Vinculación automática a cita/consulta
  • Validación de montos
  • Prevención de duplicados por cédula en pacientes no registrados
  
- Recetas:
  • Generación automática de texto de frecuencia
  • Validación de medicamentos requeridos

F. NAVEGACIÓN Y UX
────────────────────────────────────────────────────────────────────────────
- Breadcrumbs y navegación coherente
- Botones de retorno en todas las vistas de detalle
- Modales para acciones rápidas
- Confirmaciones antes de acciones destructivas
- Mensajes de éxito/error claros
- Loaders y skeletons durante carga de datos

═══════════════════════════════════════════════════════════════════════════════════
13. PANEL DE ROLES DE USUARIO (DASHBOARD ROLE-USER)
═══════════════════════════════════════════════════════════════════════════════════

Este módulo representa el sistema completo de gestión multi-usuario del consultorio. Los
usuarios de rol son creados por el médico principal desde el módulo de "Gestión de Roles"
y tienen acceso limitado según sus permisos asignados.

CONCEPTO GENERAL:
────────────────────────────────────────────────────────────────────────────
- Los roles son creados por el médico desde /dashboard/medic/configuracion/roles
- Cada rol tiene permisos granulares por módulo (view, create, edit, delete, etc.)
- Los usuarios de rol inician sesión con su email/cédula y contraseña asignada
- Acceden al panel en /dashboard/role-user con funcionalidades limitadas
- ROLES PREDEFINIDOS:
  • "Asistente De Citas": Gestión completa de agenda y servicios
  • "Recepción": Visualización de citas, cambios de estado, gestión de pagos

13.1 DASHBOARD PRINCIPAL (/dashboard/role-user)
────────────────────────────────────────────────────────────────────────────
A. Pantalla de Inicio:
   - Mensaje de bienvenida personalizado con nombre completo del usuario
   - Indicación del rol asignado (ej. "Rol: Asistente De Citas")
   
B. Módulos Disponibles (Tarjetas Visuales):
   - Lista dinámica según permisos del rol
   - Cada tarjeta muestra:
     • Icono del módulo
     • Nombre del módulo
     • Badges de permisos: "Ver", "Crear", "Editar"
     • Enlace directo al módulo
   
C. Módulos a los que puede tener acceso:
   1. Pacientes
   2. Consultas
   3. Citas
   4. Servicios del consultorio
   5. Recetas
   6. Órdenes Médicas
   7. Resultados
   8. Mensajes
   9. Tareas
   10. Reportes

13.2 GESTIÓN DE CITAS PARA ROLES (/dashboard/role-user/citas)
────────────────────────────────────────────────────────────────────────────
A. Vista de Agenda:
   - Calendario DayAgenda compartido (mismo que médico)
   - Selector de fecha
   - Visualización de bloques de tiempo ocupados
   
B. Lista de Citas del Día:
   - Información completa por cita:
     • Paciente
     • Hora programada
     • Duración
     • Motivo
     • Estado
     • Ubicación
     • Indicador temporal (Hoy, Pasada, Futura)
   
C. Permisos por Rol:
   1. ASISTENTE DE CITAS:
      - Puede VER todas las citas
      - Puede CREAR nuevas citas (botón "Nueva Cita" visible)
      - Puede EDITAR citas existentes
      - Formulario completo de nueva cita (igual que médico)
   
   2. RECEPCIÓN:
      - Puede VER todas las citas
      - NO puede crear citas nuevas
      - Puede EDITAR estados de citas:
        * Marcar como "COMPLETADA"
        * Marcar como "CANCELADA"
        * Marcar como "REAGENDADA"
      - Puede ver y editar servicios asociados
      - Puede gestionar montos cobrados y métodos de pago

D. Formulario de Nueva Cita (Solo Asistente):
   - Idéntico al formulario del médico
   - Selección de paciente (registrado/no registrado)
   - Fecha/Hora, Duración, Ubicación
   - Motivo de la cita
   - Origen del cliente (marketing)
   - Selección de servicios (requerido)
   - Generación automática de facturación

13.3 SERVICIOS DEL CONSULTORIO (/dashboard/role-user/servicios)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Gestión centralizada del catálogo de servicios del consultorio
   - Visible para Recepción y Asistente De Citas (aunque no tengan permiso explícito)
   
B. Permisos por Rol:
   1. ASISTENTE DE CITAS:
      - Puede VER servicios
      - Puede CREAR nuevos servicios
      - Puede EDITAR servicios existentes
      - Puede ELIMINAR (desactivar) servicios
      - Puede crear COMBOS de servicios
   
   2. RECEPCIÓN:
      - Solo puede VER servicios
      - NO puede crear, editar ni eliminar
      - Vista de solo lectura

C. Gestión de Servicios Individuales:
   - Campos por servicio:
     • Nombre del servicio (ej. "Consulta general") (requerido)
     • Descripción detallada (opcional)
     • Precio (decimal) (requerido)
     • Moneda (USD, VES, EUR) (requerido)
   
   - Acciones disponibles (solo Asistente):
     • Agregar nuevo servicio
     • Editar servicio existente (en línea o formulario separado)
     • Eliminar servicio (desactivación, no borrado físico)

D. Combos de Servicios (Paquetes):
   - Propósito: Crear paquetes promocionales agrupando servicios
   - Ejemplo: "Paquete control prenatal" = Consulta + Ecografía + Laboratorios
   
   - Campos por combo:
     • Nombre del combo (ej. "Paquete prenatal completo") (requerido)
     • Descripción (opcional)
     • Precio promocional (menor que suma individual) (requerido)
     • Moneda (requerido)
     • Lista de servicios incluidos (checkbox multiple) (requerido, mín. 1)
   
   - Visualización:
     • Tarjeta con nombre y precio
     • Descripción del combo
     • Lista de servicios incluidos con detalles
   
   - Utilidad:
     • Los combos se pueden seleccionar al crear citas/consultas
     • Facilita la venta de paquetes a precio reducido
     • Mejora la experiencia del paciente

13.4 MÉTODOS DE PAGO (/dashboard/role-user/metodos-pago)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Gestión de métodos de pago personalizados del consultorio
   - Usado al registrar pagos en citas y consultas
   
B. Métodos de Pago Configurables:
   - Campos por método:
     • Nombre (ej. "Transferencia Banco X", "Pago Móvil Personal") (requerido)
     • Descripción (opcional, ej. "Cuenta 0102-xxx-xxx")
   
C. Métodos predefinidos comunes:
   - Efectivo
   - Tarjeta de Débito
   - Tarjeta de Crédito
   - Transferencia bancaria
   - Pago Móvil (Venezuela)
   - Zelle
   - PayPal
   - Cashea

D. Funcionalidades:
   - Crear nuevo método de pago
   - Editar métodos existentes
   - Eliminar métodos no utilizados
   - Activar/Desactivar métodos temporalmente

13.5 ESTADÍSTICAS DE CITAS (/dashboard/role-user/estadisticas-citas)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Análisis de efectividad de la gestión de citas
   - Útil para evaluar desempeño del consultorio y del asistente
   
B. Filtros:
   - Por Año (selector numérico)
   - Por Mes (dropdown, o "Todos los meses")
   
C. Métricas Principales (Tarjetas KPI):
   1. CITAS EFECTIVAS:
      - Total de citas marcadas como "COMPLETADA"
      - Porcentaje del total
      - Código de color: Verde/Esmeralda
      
   2. CITAS REAGENDADAS:
      - Total de citas marcadas como "REAGENDADA"
      - Porcentaje del total
      - Código de color: Naranja
      
   3. NO ASISTIERON:
      - Total de citas marcadas como "CANCELADA" o no confirmadas
      - Porcentaje del total
      - Código de color: Rojo
      
   4. TOTAL CREADAS:
      - Suma de todas las citas en el período
      - Base para calcular porcentajes
      - Código de color: Azul

D. Listas Detalladas (Dos Columnas):
   1. Lista de Citas Efectivas:
      - Nombre del paciente
      - Fecha y hora programada
      - Ordenadas cronológicamente
   
   2. Lista de Citas Reagendadas:
      - Nombre del paciente
      - Fecha y hora ORIGINAL programada
      - Ordenadas cronológicamente
   
E. Utilidad:
   - Medir tasa de ausentismo
   - Evaluar necesidad de recordatorios
   - Optimizar gestión de slots de agenda

13.6 CONFIGURACIÓN DE WHATSAPP (/dashboard/role-user/whatsapp-config)
────────────────────────────────────────────────────────────────────────────
A. Propósito:
   - Configurar integración con WhatsApp para recordatorios de citas
   - Almacenar número personal del consultorio y plantilla de mensajes
   
B. Campos de Configuración:
   1. Número de WhatsApp Personal:
      - Formato internacional (ej. "+584121234567")
      - Número desde el cual se envían recordatorios manualmente
      - Instrucciones claras sobre formato
   
   2. Plantilla de Mensaje:
      - Campo de texto multilínea
      - Mensaje base que se usará al enviar recordatorios
      - Sistema de VARIABLES DINÁMICAS:

C. Variables Disponibles (Placeholders):
   - {NOMBRE_PACIENTE} → Nombre completo del paciente
   - {FECHA} → Fecha de la cita (dd/mm/aaaa)
   - {HORA} → Hora de la cita
   - {NOMBRE_DOCTORA} → Nombre del médico/a
   - {CLÍNICA} → Nombre del consultorio
   - {SERVICIOS} → Lista de servicios programados

D. Plantilla de Ejemplo por Defecto:
   "Hola {NOMBRE_PACIENTE}, le recordamos su cita el {FECHA} a las {HORA}
    con la Dra. {NOMBRE_DOCTORA} en {CLÍNICA}.
    
    Por los servicios de:
    {SERVICIOS}
    
    Por favor confirmar con un 'Asistiré' o 'No Asistiré'"

E. Vista Previa en Tiempo Real:
   - Panel lateral que muestra cómo se verá el mensaje
   - Ejemplo con datos ficticios:
     * Paciente: "María Pérez"
     * Fecha: "15/12/2025"
     * Hora: "10:30 am"
     * Servicios: "Consulta ginecológica, Ecografía transvaginal"
   
F. Permisos:
   - Solo ASISTENTE DE CITAS puede EDITAR
   - Otros roles pueden solo VER
   
G. Flujo de Uso:
   1. Asistente configura número y plantilla
   2. Al crear/ver una cita, hay botón "Enviar Recordatorio por WhatsApp"
   3. Se abre WhatsApp Web/App con mensaje prellenado
   4. Asistente solo debe dar "Enviar" desde WhatsApp

13.7 OTROS MÓDULOS PARA ROLES
────────────────────────────────────────────────────────────────────────────
A. Reportes (/dashboard/role-user/reportes):
   - Estadísticas simplificadas
   - Sin información financiera sensible
   - Datos operativos según permisos

B. Consultas (/dashboard/role-user/consultas):
   - Vista limitada de consultas
   - Sin acceso a diagnósticos sensibles

C. Pacientes (/dashboard/role-user/pacientes):
   - Listado básico
   - Sin historial médico completo

D. Recetas, Órdenes, Resultados, Mensajes, Tareas:
   - Acceso según permisos configurados por el médico

═══════════════════════════════════════════════════════════════════════════════════
CUADRO COMPARATIVO: PERMISOS POR ROL PREDEFINIDO
═══════════════════════════════════════════════════════════════════════════════════

┌─────────────────────────┬──────────────────────┬──────────────────────┐
│ MÓDULO                  │ ASISTENTE DE CITAS   │ RECEPCIÓN            │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ CITAS                   │ Ver, Crear, Editar,  │ Ver, Editar          │
│                         │ Agendar              │ (solo estados)       │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ SERVICIOS               │ Ver, Crear, Editar,  │ Ver (solo lectura)   │
│                         │ Eliminar, Combos     │                      │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ MÉTODOS DE PAGO         │ Ver, Crear, Editar,  │ Ver, Usar al cobrar  │
│                         │ Eliminar             │                      │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ ESTADÍSTICAS            │ Ver completas        │ Ver completas        │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ WHATSAPP CONFIG         │ Ver, Editar          │ Ver (solo lectura)   │
├─┬────────────────────────┼──────────────────────┼──────────────────────┤
│ CONSULTAS               │ Ver (limitado)       │ Ver (muy limitado)   │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ PACIENTES               │ Ver, Buscar          │ Ver, Buscar          │
├─────────────────────────┼──────────────────────┼──────────────────────┤
│ FACTURACIÓN             │ Ver estados          │ Ver, Editar montos,  │
│                         │                      │ Registrar pagos      │
└─────────────────────────┴──────────────────────┴──────────────────────┘

NOTA: Los permisos son completamente personalizables por el médico al
crear/editar roles desde /dashboard/medic/configuracion/roles.

═══════════════════════════════════════════════════════════════════════════════════
FLUJO DE TRABAJO TÍPICO: ASISTENTE DE CITAS
═══════════════════════════════════════════════════════════════════════════════════

1. CONFIGURACIÓN INICIAL (Una vez):
   ├─ Crear/Editar Servicios del Consultorio
   ├─ Crear Combos de Servicios (paquetes)
   ├─ Configurar Métodos de Pago disponibles
   └─ Configurar WhatsApp (número y plantilla de mensajes)

2. GESTIÓN DIARIA DE CITAS:
   ├─ Ver agenda del día en calendario
   ├─ Recibir solicitud de cita (teléfono, web, presencial)
   ├─ Crear nueva cita:
   │  ├─ Buscar paciente existente o crear nuevo
   │  ├─ Seleccionar fecha/hora disponible
   │  ├─ Asignar servicio o combo
   │  └─ Guardar (genera factura automática)
   ├─ Enviar recordatorio por WhatsApp (24h antes)
   ├─ Confirmar asistencia del paciente
   └─ Al finalizar el día: Revisar estadísticas

3. COORDINACIÓN CON RECEPCIÓN:
   ├─ Asistente crea citas → Recepción cobra y confirma
   ├─ Recepción marca cita como "Completada" al ser atendida
   └─ Recepción registra pagos y métodos usados

4. ANÁLISIS PERIÓDICO:
   ├─ Revisar Estadísticas de Citas (mensual)
   ├─ Evaluar tasa de ausentismo
   ├─ Ajustar estrategia de recordatorios
   └─ Proponer nuevos combos de servicios según demanda

═══════════════════════════════════════════════════════════════════════════════════
RESUMEN PARA PLANES DE SUSCRIPCIÓN
═══════════════════════════════════════════════════════════════════════════════════

PLAN BÁSICO (Médico Individual)
────────────────────────────────────────────────────────────────────────────
✓ Dashboard con KPIs
✓ Gestión de Pacientes (Listado, Búsqueda)
✓ Consultas (Crear, Ver, Editar)
✓ Recetas Simples (Crear, Listar)
✓ Agenda con Vista de Calendario
✓ Citas (Crear, Gestionar Estados)
✓ Configuración Básica (Perfil, Moneda)
✓ Facturación Manual
✓ Pacientes Registrados y No Registrados

PLAN PRO (Consultorio Pequeño)
────────────────────────────────────────────────────────────────────────────
✓ Todo lo del Plan Básico, MÁS:
✓ Órdenes y Resultados de Laboratorio
✓ Mensajes con Pacientes (Chat externo)
✓ Tareas y Recordatorios
✓ Plantillas Word Personalizadas (Informes y Recetas)
✓ Reportes Financieros Básicos
✓ Configuración de Consultorio
✓ Carga de Imágenes del Consultorio
✓ Integración con Pago Móvil
✓ Verificación de Pagos
✓ Moneda Multidivisa

PLAN ENTERPRISE (Consultorio/Clínica con Equipo)
────────────────────────────────────────────────────────────────────────────
✓ Todo lo del Plan Pro, MÁS:
✓ Gestión de Roles y Permisos COMPLETA (Multi-usuario ilimitado)
✓ Panel de Role-User con funcionalidades dedicadas:
  • Gestión de Citas por Asistentes
  • Gestión de Servicios y Combos
  • Métodos de Pago Personalizados
  • Estadísticas de Efectividad de Citas
  • Config uración de WhatsApp para Recordatorios
✓ Chat Interno (Mensajería del Equipo)
✓ Carga Masiva de Pacientes (Excel/Word)
✓ Analítica Avanzada (Gráficos de Tendencia, Diagnósticos Comunes)
✓ Exportación de Reportes (Excel, PDF)
✓ Soporte para Múltiples Ubicaciones
✓ API de Integración (futuro)
✓ Usuarios de Rol Ilimitados
✓ Personalización Avanzada de Permisos

═══════════════════════════════════════════════════════════════════════════════════
NOTAS TÉCNICAS ADICIONALES
═══════════════════════════════════════════════════════════════════════════════════

• Tecnologías: Next.js, React, Supabase, Tailwind CSS, Framer Motion
• Autenticación: Basada en sesiones con Supabase
• Base de Datos: PostgreSQL (Supabase)
• Realtime: Supabase Realtime para mensajes y notificaciones
• Archivos: Almacenamiento en Supabase Storage
• Formularios: Validación tanto cliente como servidor
• Responsive: Diseño completamente adaptable a móviles
• Accesibilidad: Implementación de ARIA labels y navegación por teclado

═══════════════════════════════════════════════════════════════════════════════════
FIN DEL INFORME
═══════════════════════════════════════════════════════════════════════════════════
Documento generado para: Syncwave - Sistema de Gestión Clínica MVP
Versión: 1.0 - Completa y Exhaustiva
Fecha: Diciembre 2024
